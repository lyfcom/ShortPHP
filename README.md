# 短链接生成器

一个基于PHP和MySQL的简单短链接生成器，使用DaisyUI美化界面。

## 功能特点

- 将长链接转换为短链接
- 自动生成随机短码或使用自定义短码
- 记录短链接点击统计
- 查看短链接使用情况
- 支持查询、编辑和删除短链接
- 支持亮色/暗色主题切换（cupcake主题）
- 响应式设计，适配各种设备

## 技术栈

- PHP（后端处理）
- MySQL（数据存储）
- [DaisyUI](https://daisyui.com/)（UI组件库）
- TailwindCSS（CSS框架）

## 虚拟主机部署指南

### 前提条件

- 已购买支持PHP 7.0+和MySQL的虚拟主机服务
- 拥有虚拟主机控制面板访问权限
- 拥有域名并已解析到虚拟主机IP

### 部署步骤

1. **准备文件**
   - 下载项目全部文件
   - 按照当前文件结构整理所有文件

2. **配置数据库**
   - 登录虚拟主机控制面板（如cPanel, Plesk等）
   - 创建一个新的MySQL数据库
   - 创建数据库用户并分配权限
   - 记下数据库名称、用户名和密码

3. **修改配置文件**
   - 修改 `includes/config.php` 中的数据库连接信息
   ```php
   $db_host = 'localhost'; // 通常不需要更改
   $db_user = '您的数据库用户名'; // 修改为虚拟主机提供的数据库用户名
   $db_pass = '您的数据库密码'; // 修改为虚拟主机提供的数据库密码
   $db_name = '您的数据库名称'; // 修改为您创建的数据库名称
   
   // 站点URL - 修改为您的实际域名
   define('BASE_URL', 'https://您的域名.com/'); 
   ```
   - 修改 `includes/init_db.php` 中的数据库连接信息，确保与config.php中相同

4. **上传文件**
   - 使用FTP客户端或虚拟主机文件管理工具
   - 将所有文件上传到您的网站根目录（public_html或wwwroot等）

5. **初始化数据库**
   - 在浏览器中访问 `https://您的域名.com/includes/init_db.php`
   - 按照提示完成数据库初始化
   - 初始化成功后，建议删除或重命名init_db.php文件以增强安全性

6. **设置文件权限**
   - 通常虚拟主机默认权限已经足够
   - 如果遇到权限问题，将文件夹权限设置为755，文件权限设置为644

7. **测试网站**
   - 访问 `https://您的域名.com/` 确认网站正常工作
   - 尝试创建一个短链接并测试是否正常跳转

### 常见问题解决

1. **数据库连接失败**
   - 确认数据库连接信息是否正确
   - 检查虚拟主机数据库连接字符串格式是否有特殊要求

2. **无法创建短链接**
   - 检查数据表是否正确创建
   - 确保PHP有足够权限写入数据库

3. **短链接无法跳转**
   - 检查.htaccess文件是否正确上传
   - 确认虚拟主机支持.htaccess和mod_rewrite

4. **CORS或路径问题**
   - 确保BASE_URL配置正确且以斜杠结尾
   - 检查资源路径是否使用相对路径

## 使用方法

1. 在主页输入您想要缩短的长链接
2. 点击"生成短链接"按钮
3. 复制生成的短链接
4. 分享短链接给其他人

## 文件结构

```
ShortPHP/
├── assets/           # 静态资源文件
│   ├── css/          # CSS文件
│   └── js/           # JavaScript文件
├── includes/         # PHP包含文件
│   ├── config.php    # 数据库配置
│   ├── functions.php # 核心功能函数
│   └── init_db.php   # 数据库初始化
├── .htaccess         # URL重写规则
├── index.php         # 主页面
├── stats.php         # 统计页面
└── README.md         # 项目说明
```

## 自定义配置

您可以在 `includes/config.php` 文件中修改数据库配置和基本URL：

```php
// 数据库配置信息
$db_host = 'localhost'; // 数据库主机
$db_user = 'root';      // 数据库用户名
$db_pass = '';          // 数据库密码
$db_name = 'shorturl_db'; // 数据库名称

// 站点URL
define('BASE_URL', 'http://localhost/ShortPHP/public/');
```

## 许可证

MIT 